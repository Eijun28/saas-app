# Nuply - Plateforme de Matching Multiculturel pour Mariages

> Documentation complÃ¨te pour les agents IA travaillant sur le projet Nuply

## ğŸ“š Table des MatiÃ¨res

1. [Stack Technique DÃ©tectÃ©e](#stack-technique-dÃ©tectÃ©e)
2. [Structure du Projet](#structure-du-projet)
3. [Commandes Disponibles](#commandes-disponibles)
4. [Conventions de Code](#conventions-de-code)
5. [Composants RÃ©utilisables](#composants-rÃ©utilisables)
6. [Variables & Styles Custom](#variables--styles-custom)
7. [Fichiers Critiques](#fichiers-critiques)
8. [RÃ¨gles pour les Agents](#rÃ¨gles-pour-les-agents)

---

## Stack Technique DÃ©tectÃ©e

### Framework & Core
- **Next.js**: `16.0.3` (App Router, React Server Components)
- **React**: `19.2.0` (derniÃ¨re version stable)
- **React DOM**: `19.2.0`
- **TypeScript**: `5.x` (strict mode activÃ©)
- **Node.js**: `20+`

### Styling & UI
- **Tailwind CSS**: `4.x` (derniÃ¨re version avec `@tailwindcss/postcss`)
- **PostCSS**: Configuration moderne
- **tw-animate-css**: `1.4.0` (animations Tailwind custom)
- **class-variance-authority**: `0.7.1` (variants de composants)
- **clsx**: `2.1.1` + **tailwind-merge**: `3.4.0` (utility `cn()`)
- **Geist**: `1.5.1` (police Vercel)
- **Google Fonts**: Inter (weights 300-700)

### Animation
- **Framer Motion**: `12.23.26` (animations dÃ©claratives)
- **Motion**: `12.23.26` (alternative lightweight)
- **Lenis**: `1.3.15` + `@studio-freight/lenis 1.0.42` (smooth scroll)

### UI Components
- **Radix UI**: ~25 composants primitifs (@radix-ui/react-*)
- **shadcn/ui**: 68 composants UI custom
- **Lucide React**: `0.554.0` (icÃ´nes)
- **Vaul**: `1.1.2` (drawer mobile)
- **Sonner**: `2.0.7` (toasts)
- **cmdk**: `1.1.1` (command palette)
- **Recharts**: `3.5.1` (graphiques)

### Backend & Database
- **Supabase JS**: `2.86.2` (client JavaScript)
- **Supabase SSR**: `0.5.2` (Server-Side Rendering)
- **Supabase Auth Helpers**: `0.15.0` (authentification)

### Forms & Validation
- **React Hook Form**: `7.67.0` (gestion de formulaires)
- **Zod**: `4.1.13` (validation de schÃ©mas)
- **@hookform/resolvers**: `3.10.0` (intÃ©gration Zod + RHF)

### State Management
- **Zustand**: `5.0.8` (state management lÃ©ger)

### AI & Chat
- **OpenAI**: `6.10.0`
- **AI SDK**: `5.0.107` (@ai-sdk/openai: `2.0.77`, @ai-sdk/react: `2.0.107`)

### Utilities
- **date-fns**: `4.1.0` (manipulation de dates)
- **pdf-lib**: `1.17.1` (gÃ©nÃ©ration PDF)
- **lru-cache**: `11.2.4` (cache en mÃ©moire)
- **dotenv**: `17.2.3` (variables d'environnement)
- **cobe**: `0.6.5` (globe 3D)

### Dev Dependencies
- **ESLint**: `9.x` + `eslint-config-next`
- **Jest**: `30.2.0` + `@testing-library/react 16.3.0`
- **ts-jest**: `29.4.6`
- **tsx**: `4.21.0` (exÃ©cution TypeScript)
- **Sharp**: `0.34.5` (optimisation d'images)

---

## Structure du Projet

```
nuply/
â”œâ”€â”€ app/                                    # Next.js App Router (16.0.3)
â”‚   â”œâ”€â”€ layout.tsx                          # Root layout avec Inter font + Navbar
â”‚   â”œâ”€â”€ page.tsx                            # Landing page (Hero + Features + CTA)
â”‚   â”œâ”€â”€ globals.css                         # Design system complet (509 lignes)
â”‚   â”‚
â”‚   â”œâ”€â”€ (auth)/                             # Groupe de routes auth
â”‚   â”‚   â”œâ”€â”€ layout.tsx                      # Layout auth
â”‚   â”‚   â””â”€â”€ auth/callback/route.ts          # Callback Supabase
â”‚   â”‚
â”‚   â”œâ”€â”€ sign-in/                            # Page de connexion
â”‚   â”œâ”€â”€ sign-up/                            # Page d'inscription
â”‚   â”œâ”€â”€ tarifs/                             # Page de pricing
â”‚   â”œâ”€â”€ subscription/                       # Gestion abonnements
â”‚   â”œâ”€â”€ messages/                           # Page de messagerie
â”‚   â”œâ”€â”€ invitation/[token]/                 # Invitation collaborateurs
â”‚   â”‚
â”‚   â”œâ”€â”€ couple/                             # Dashboard couple
â”‚   â”‚   â”œâ”€â”€ layout.tsx                      # Layout avec sidebar
â”‚   â”‚   â”œâ”€â”€ sidebar-wrapper.tsx             # Wrapper sidebar client
â”‚   â”‚   â”œâ”€â”€ mobile-menu-client.tsx          # Menu mobile
â”‚   â”‚   â”œâ”€â”€ page.tsx                        # Dashboard
â”‚   â”‚   â”œâ”€â”€ matching/                       # Matching IA
â”‚   â”‚   â”œâ”€â”€ recherche/                      # Recherche prestataires
â”‚   â”‚   â”œâ”€â”€ profil/                         # Profil couple
â”‚   â”‚   â”œâ”€â”€ budget/                         # Gestion budget
â”‚   â”‚   â”œâ”€â”€ collaborateurs/                 # Gestion collaborateurs
â”‚   â”‚   â”œâ”€â”€ demandes/                       # Demandes envoyÃ©es
â”‚   â”‚   â”œâ”€â”€ messagerie/                     # Messagerie couple
â”‚   â”‚   â””â”€â”€ notifications/                  # Notifications
â”‚   â”‚
â”‚   â”œâ”€â”€ prestataire/                        # Dashboard prestataire
â”‚   â”‚   â”œâ”€â”€ layout.tsx                      # Layout avec sidebar
â”‚   â”‚   â”œâ”€â”€ sidebar-wrapper.tsx             # Wrapper sidebar client
â”‚   â”‚   â”œâ”€â”€ mobile-menu-client.tsx          # Menu mobile
â”‚   â”‚   â”œâ”€â”€ page.tsx                        # Dashboard
â”‚   â”‚   â”œâ”€â”€ demandes-recues/                # Demandes reÃ§ues
â”‚   â”‚   â”œâ”€â”€ profil-public/                  # Profil public
â”‚   â”‚   â”œâ”€â”€ agenda/                         # Agenda & disponibilitÃ©s
â”‚   â”‚   â””â”€â”€ messagerie/                     # Messagerie prestataire
â”‚   â”‚
â”‚   â””â”€â”€ api/                                # API Routes
â”‚       â”œâ”€â”€ auth/signout/route.ts           # DÃ©connexion
â”‚       â”œâ”€â”€ chatbot/route.ts                # Chatbot IA
â”‚       â”œâ”€â”€ collaborateurs/
â”‚       â”‚   â”œâ”€â”€ invite/route.ts             # Invitation collaborateurs
â”‚       â”‚   â””â”€â”€ invitation/[token]/
â”‚       â”‚       â”œâ”€â”€ route.ts                # Infos invitation
â”‚       â”‚       â””â”€â”€ accept/route.ts         # Acceptation invitation
â”‚       â””â”€â”€ marriage-admin/
â”‚           â”œâ”€â”€ create/route.ts             # CrÃ©ation dossier administratif
â”‚           â”œâ”€â”€ generate-document/route.ts  # GÃ©nÃ©ration documents
â”‚           â”œâ”€â”€ generate-pdf/route.ts       # GÃ©nÃ©ration PDF
â”‚           â””â”€â”€ upload-document/route.ts    # Upload documents
â”‚
â”œâ”€â”€ components/                             # Composants React
â”‚   â”œâ”€â”€ Chatbot.tsx                         # Chatbot IA (14722 lignes)
â”‚   â”œâ”€â”€ CityAutocomplete.tsx                # Autocomplete villes
â”‚   â”œâ”€â”€ HeroFlipWords.tsx                   # Hero avec mots qui flip
â”‚   â”œâ”€â”€ NuplyNavbarMenu.tsx                 # Navbar principale (16204 lignes)
â”‚   â”œâ”€â”€ calendar.tsx                        # Calendrier custom
â”‚   â”œâ”€â”€ how-it-works.tsx                    # Section "Comment Ã§a marche"
â”‚   â”œâ”€â”€ marquee-reviews.tsx                 # Carrousel d'avis
â”‚   â”‚
â”‚   â”œâ”€â”€ auth/                               # Composants authentification
â”‚   â”œâ”€â”€ budget/                             # Composants budget
â”‚   â”œâ”€â”€ couple/                             # Composants spÃ©cifiques couple
â”‚   â”œâ”€â”€ dashboard/                          # Composants dashboard
â”‚   â”œâ”€â”€ marriage-admin/                     # Composants admin mariage
â”‚   â”œâ”€â”€ prestataire/                        # Composants spÃ©cifiques prestataire
â”‚   â”œâ”€â”€ pricing/                            # Composants pricing
â”‚   â”‚   â”œâ”€â”€ PricingHeader.tsx
â”‚   â”‚   â”œâ”€â”€ PriceToggle.tsx
â”‚   â”‚   â”œâ”€â”€ ProfileToggle.tsx
â”‚   â”‚   â”œâ”€â”€ PricingCard.tsx
â”‚   â”‚   â””â”€â”€ FinaryPricingCard.tsx
â”‚   â”œâ”€â”€ profile/                            # Composants profil
â”‚   â”œâ”€â”€ provider/                           # Composants provider
â”‚   â”œâ”€â”€ providers/                          # Context providers
â”‚   â”œâ”€â”€ signup/                             # Composants inscription
â”‚   â”‚
â”‚   â”œâ”€â”€ home/                               # Composants page d'accueil
â”‚   â”‚   â”œâ”€â”€ FinalCTA.tsx
â”‚   â”‚   â”œâ”€â”€ PlatformFusionAnimation.tsx
â”‚   â”‚   â”œâ”€â”€ WhyNuply.tsx
â”‚   â”‚   â”œâ”€â”€ HowItWorks.tsx
â”‚   â”‚   â””â”€â”€ FloatingHighlight.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ landing/                            # Composants landing page (16 fichiers)
â”‚   â”‚   â”œâ”€â”€ Hero.tsx                        # Hero principal moderne (185 lignes)
â”‚   â”‚   â”œâ”€â”€ HeroSection.tsx                 # Hero ancien (64 lignes) âš ï¸ LEGACY
â”‚   â”‚   â”œâ”€â”€ FeaturesGrid.tsx                # Grille de features Bento (433 lignes)
â”‚   â”‚   â”œâ”€â”€ HowItWorks.tsx                  # Section "Comment Ã§a marche"
â”‚   â”‚   â”œâ”€â”€ CallToAction.tsx                # CTA final
â”‚   â”‚   â”œâ”€â”€ AnimatedListNuply.tsx           # Liste animÃ©e de matches (131 lignes)
â”‚   â”‚   â”œâ”€â”€ AnimatedBeamNuply.tsx           # Animation de faisceau (8899 lignes)
â”‚   â”‚   â”œâ”€â”€ AlternatingSections.tsx         # Sections alternÃ©es
â”‚   â”‚   â”œâ”€â”€ FeatureBlock.tsx                # Bloc de feature
â”‚   â”‚   â”œâ”€â”€ Pricing.tsx                     # Section pricing
â”‚   â”‚   â”œâ”€â”€ TrustLogos.tsx                  # Logos de confiance
â”‚   â”‚   â”œâ”€â”€ FinalCTA.tsx                    # CTA final
â”‚   â”‚   â”œâ”€â”€ SmoothScrollProvider.tsx        # Provider Lenis
â”‚   â”‚   â”œâ”€â”€ animations.tsx                  # Animations rÃ©utilisables
â”‚   â”‚   â””â”€â”€ README.md                       # Documentation landing
â”‚   â”‚
â”‚   â”œâ”€â”€ layout/                             # Composants layout
â”‚   â”‚   â””â”€â”€ (sidebar, topbar, navigation)
â”‚   â”‚
â”‚   â””â”€â”€ ui/                                 # shadcn/ui components (68 fichiers)
â”‚       â”œâ”€â”€ accordion.tsx
â”‚       â”œâ”€â”€ animated-beam.tsx
â”‚       â”œâ”€â”€ animated-counter.tsx
â”‚       â”œâ”€â”€ animated-list.tsx
â”‚       â”œâ”€â”€ avatar-circles.tsx
â”‚       â”œâ”€â”€ avatar.tsx
â”‚       â”œâ”€â”€ badge.tsx
â”‚       â”œâ”€â”€ bento-grid.tsx
â”‚       â”œâ”€â”€ bottom-gradient.tsx
â”‚       â”œâ”€â”€ breadcrumb.tsx
â”‚       â”œâ”€â”€ button.tsx
â”‚       â”œâ”€â”€ calendar.tsx
â”‚       â”œâ”€â”€ calendar-shadcn.tsx
â”‚       â”œâ”€â”€ calendar18.tsx
â”‚       â”œâ”€â”€ card.tsx
â”‚       â”œâ”€â”€ card-decorator.tsx
â”‚       â”œâ”€â”€ carousel.tsx
â”‚       â”œâ”€â”€ chart.tsx
â”‚       â”œâ”€â”€ chat-input.tsx
â”‚       â”œâ”€â”€ checkbox.tsx
â”‚       â”œâ”€â”€ collapsible.tsx
â”‚       â”œâ”€â”€ command.tsx
â”‚       â”œâ”€â”€ date-picker.tsx
â”‚       â”œâ”€â”€ dialog.tsx
â”‚       â”œâ”€â”€ drawer.tsx
â”‚       â”œâ”€â”€ dropdown-menu.tsx
â”‚       â”œâ”€â”€ empty-state.tsx
â”‚       â”œâ”€â”€ flip-words.tsx
â”‚       â”œâ”€â”€ form.tsx
â”‚       â”œâ”€â”€ hero-video-dialog.tsx
â”‚       â”œâ”€â”€ hover-card.tsx
â”‚       â”œâ”€â”€ input.tsx
â”‚       â”œâ”€â”€ loading-spinner.tsx
â”‚       â”œâ”€â”€ marquee.tsx
â”‚       â”œâ”€â”€ modern-card.tsx
â”‚       â”œâ”€â”€ navbar-menu.tsx
â”‚       â”œâ”€â”€ navigation-menu.tsx
â”‚       â”œâ”€â”€ popover.tsx
â”‚       â”œâ”€â”€ progress.tsx
â”‚       â”œâ”€â”€ pulsating-button.tsx
â”‚       â”œâ”€â”€ range-slider.tsx
â”‚       â”œâ”€â”€ resizable.tsx
â”‚       â”œâ”€â”€ resizable-navbar.tsx
â”‚       â”œâ”€â”€ ripple-button.tsx
â”‚       â”œâ”€â”€ scroll-area.tsx
â”‚       â”œâ”€â”€ select.tsx
â”‚       â”œâ”€â”€ select-radix.tsx
â”‚       â”œâ”€â”€ separator.tsx
â”‚       â”œâ”€â”€ skeleton.tsx
â”‚       â”œâ”€â”€ sonner.tsx
â”‚       â”œâ”€â”€ spotlight.tsx
â”‚       â”œâ”€â”€ spotlight-preview.tsx
â”‚       â”œâ”€â”€ switch.tsx
â”‚       â”œâ”€â”€ tabs.tsx
â”‚       â”œâ”€â”€ textarea.tsx
â”‚       â”œâ”€â”€ toast.tsx
â”‚       â”œâ”€â”€ toggle.tsx
â”‚       â”œâ”€â”€ toggle-group.tsx
â”‚       â””â”€â”€ ... (68 fichiers au total)
â”‚
â”œâ”€â”€ lib/                                    # Utilitaires & helpers
â”‚   â”œâ”€â”€ utils.ts                            # Utility cn() pour Tailwind
â”‚   â”œâ”€â”€ animations.ts                       # Configurations animations
â”‚   â”œâ”€â”€ scroll.ts                           # Utilities scroll
â”‚   â”œâ”€â”€ constants.ts                        # Constantes globales
â”‚   â”œâ”€â”€ design-system.ts                    # Configuration design system
â”‚   â”œâ”€â”€ security.ts                         # Utilities sÃ©curitÃ©
â”‚   â”œâ”€â”€ rate-limit.ts                       # Rate limiting
â”‚   â”‚
â”‚   â”œâ”€â”€ auth/                               # Authentification
â”‚   â”‚   â”œâ”€â”€ session.ts
â”‚   â”‚   â””â”€â”€ actions.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ actions/                            # Server actions
â”‚   â”‚   â”œâ”€â”€ budget.ts
â”‚   â”‚   â”œâ”€â”€ profile.ts
â”‚   â”‚   â””â”€â”€ budget-categories.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ supabase/                           # Clients Supabase
â”‚   â”‚   â”œâ”€â”€ client.ts                       # Client browser
â”‚   â”‚   â”œâ”€â”€ server.ts                       # Client server
â”‚   â”‚   â”œâ”€â”€ admin.ts                        # Client admin
â”‚   â”‚   â”œâ”€â”€ middleware.ts                   # Middleware auth
â”‚   â”‚   â”œâ”€â”€ conversations.ts                # Gestion conversations
â”‚   â”‚   â”œâ”€â”€ messages.ts                     # Gestion messages
â”‚   â”‚   â””â”€â”€ queries/
â”‚   â”‚       â””â”€â”€ couples.queries.ts          # RequÃªtes couples
â”‚   â”‚
â”‚   â”œâ”€â”€ constants/                          # Constantes
â”‚   â”‚   â”œâ”€â”€ cultures.ts                     # Liste cultures
â”‚   â”‚   â””â”€â”€ zones.ts                        # Zones gÃ©ographiques
â”‚   â”‚
â”‚   â”œâ”€â”€ validations/                        # SchÃ©mas Zod
â”‚   â”‚   â”œâ”€â”€ auth.schema.ts
â”‚   â”‚   â”œâ”€â”€ collaborateur.schema.ts
â”‚   â”‚   â””â”€â”€ onboarding.schema.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                              # Types TypeScript custom
â”‚   â”‚   â”œâ”€â”€ budget.ts
â”‚   â”‚   â””â”€â”€ prestataire.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ stores/                             # Stores Zustand
â”‚   â”‚   â””â”€â”€ signup-store.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ pdf/                                # GÃ©nÃ©ration PDF
â”‚   â”‚   â””â”€â”€ marriage-dossier-generator.ts
â”‚   â”‚
â”‚   â””â”€â”€ marriage-admin/                     # Admin mariage
â”‚       â””â”€â”€ checklist-generator.ts
â”‚
â”œâ”€â”€ types/                                  # Types TypeScript globaux
â”‚   â”œâ”€â”€ index.ts                            # Types principaux
â”‚   â”œâ”€â”€ index.d.ts                          # DÃ©clarations globales
â”‚   â”œâ”€â”€ database.types.ts                   # Types Supabase gÃ©nÃ©rÃ©s
â”‚   â”œâ”€â”€ messages.ts                         # Types messagerie
â”‚   â”œâ”€â”€ matching.ts                         # Types matching
â”‚   â”œâ”€â”€ couple.ts                           # Types couple
â”‚   â”œâ”€â”€ couples.types.ts                    # Types couples (alternatif)
â”‚   â”œâ”€â”€ vapi.d.ts                           # Types VAPI
â”‚   â””â”€â”€ marriage-admin/
â”‚       â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ hooks/                                  # React hooks custom
â”‚   â”œâ”€â”€ use-user.ts                         # Hook utilisateur
â”‚   â”œâ”€â”€ use-profile.ts                      # Hook profil
â”‚   â”œâ”€â”€ use-toast.ts                        # Hook toast
â”‚   â””â”€â”€ use-textarea-resize.ts              # Hook textarea auto-resize
â”‚
â”œâ”€â”€ store/                                  # Stores Zustand
â”‚   â””â”€â”€ onboarding-store.ts
â”‚
â”œâ”€â”€ constants/                              # Constantes globales
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ scripts/                                # Scripts utilitaires
â”‚   â”œâ”€â”€ seed-prestataires.ts               # Seed prestataires
â”‚   â””â”€â”€ test-compatibility.ts              # Test compatibilitÃ©
â”‚
â”œâ”€â”€ supabase/                               # Configuration Supabase
â”‚   â””â”€â”€ (migrations, policies, etc.)
â”‚
â”œâ”€â”€ public/                                 # Assets statiques
â”‚   â””â”€â”€ (images, fonts, etc.)
â”‚
â”œâ”€â”€ docs/                                   # Documentation
â”‚
â”œâ”€â”€ .git/                                   # Git repository
â”œâ”€â”€ .gitignore                              # Git ignore
â”œâ”€â”€ .idea/                                  # IDE config
â”‚
â”œâ”€â”€ middleware.ts                           # Middleware Next.js (auth)
â”œâ”€â”€ next.config.ts                          # Config Next.js
â”œâ”€â”€ tsconfig.json                           # Config TypeScript
â”œâ”€â”€ components.json                         # Config shadcn/ui
â”œâ”€â”€ postcss.config.mjs                      # Config PostCSS
â”œâ”€â”€ eslint.config.mjs                       # Config ESLint
â”œâ”€â”€ jest.config.js                          # Config Jest
â”‚
â”œâ”€â”€ package.json                            # Dependencies
â”œâ”€â”€ package-lock.json                       # Lock file
â”‚
â””â”€â”€ README.md                               # Documentation principale
```

**RÃ©sumÃ© Taille des Dossiers:**
- `components/` : **738 KB** (68 composants UI + composants mÃ©tier)
- `app/` : **491 KB** (pages + API routes)
- `lib/` : **164 KB** (utilities + helpers)

---

## Commandes Disponibles

```json
{
  "dev": "next dev",                        // Serveur de dÃ©veloppement (http://localhost:3000)
  "build": "next build",                    // Build production
  "start": "next start",                    // Serveur production
  "lint": "eslint",                         // Linter ESLint
  "test": "jest",                           // Tests Jest
  "test:api": "node scripts/test-api.sh",   // Tests API
  "test:compatibility": "tsx scripts/test-compatibility.ts"  // Tests compatibilitÃ©
}
```

### Utilisation RecommandÃ©e

```bash
# DÃ©veloppement
npm run dev                  # Lance le serveur de dev (port 3000)

# Production
npm run build               # Build optimisÃ© pour production
npm run start               # Lance le serveur production

# Quality Assurance
npm run lint                # VÃ©rifie le code avec ESLint
npm run test                # Lance les tests Jest
npm run test:api            # Teste les routes API
npm run test:compatibility  # Teste la compatibilitÃ©

# Supabase (si installÃ© localement)
npx supabase start          # Lance Supabase local
npx supabase stop           # ArrÃªte Supabase local
npx supabase db reset       # Reset database
```

---

## Conventions de Code

### Conventions TypeScript

1. **Strict Mode ActivÃ©** (`tsconfig.json`)
   ```json
   {
     "strict": true,
     "noUncheckedIndexedAccess": true,
     "noImplicitAny": true
   }
   ```

2. **Imports Absolus** avec alias `@/`
   ```typescript
   import { Button } from '@/components/ui/button'
   import { cn } from '@/lib/utils'
   ```

3. **Types Explicites** pour les props
   ```typescript
   interface HeroProps {
     title: string
     subtitle?: string
     className?: string
   }

   export default function Hero({ title, subtitle, className }: HeroProps) {
     // ...
   }
   ```

### Conventions React

1. **'use client'** pour les composants interactifs
   ```typescript
   'use client'  // En haut du fichier si useState, useEffect, onClick, etc.

   import { useState } from 'react'
   ```

2. **Server Components par dÃ©faut**
   - Les composants dans `app/` sont Server Components par dÃ©faut
   - Ajouter `'use client'` uniquement si nÃ©cessaire

3. **Naming Convention**
   - **Composants**: PascalCase (`HeroSection.tsx`)
   - **Utilities**: camelCase (`utils.ts`, `animations.ts`)
   - **Hooks**: `use` prefix (`use-user.ts`, `use-profile.ts`)
   - **Types**: PascalCase avec suffix (`UserProfile`, `ApiResponse`)

4. **Export par dÃ©faut** pour les composants principaux
   ```typescript
   export default function Hero() { }  // âœ… Pour les pages/composants principaux
   export function FadeInOnScroll() { } // âœ… Pour les utilities
   ```

### Conventions Tailwind CSS

1. **Utility `cn()`** pour combiner les classes
   ```typescript
   import { cn } from '@/lib/utils'

   <div className={cn(
     "base-classes",
     condition && "conditional-classes",
     className  // Permet l'override externe
   )} />
   ```

2. **Classes Custom** dÃ©finies dans `globals.css`
   ```css
   .gradient-primary { }
   .shadow-soft { }
   .glass { }
   .hover-lift { }
   ```

3. **Responsive Design**
   ```typescript
   // Mobile-first approach
   className="text-base sm:text-lg md:text-xl lg:text-2xl"
   ```

### Conventions Framer Motion

1. **Variants Pattern** pour les animations complexes
   ```typescript
   const containerVariants = {
     hidden: { opacity: 0 },
     visible: {
       opacity: 1,
       transition: { staggerChildren: 0.1 }
     }
   }

   <motion.div
     variants={containerVariants}
     initial="hidden"
     animate="visible"
   >
   ```

2. **Animations RÃ©utilisables** dans `components/landing/animations.tsx`
   - `FadeInOnScroll` : Apparition au scroll
   - `SlideInOnScroll` : Glissement latÃ©ral
   - `StaggeredList` : Liste avec dÃ©lai Ã©chelonnÃ©
   - `FadeInScaleOnScroll` : Apparition + scale

### Conventions Supabase

1. **Clients SÃ©parÃ©s**
   ```typescript
   // Browser
   import { createClient } from '@/lib/supabase/client'

   // Server Component
   import { createClient } from '@/lib/supabase/server'

   // Server Action / API Route
   import { createClient } from '@/lib/supabase/admin'
   ```

2. **Types GÃ©nÃ©rÃ©s**
   ```typescript
   import { Database } from '@/types/database.types'
   ```

### Conventions de Fichiers

1. **Structure des Composants**
   ```
   ComponentName.tsx           // Composant principal
   component-name.module.css   // Styles si nÃ©cessaire (rare avec Tailwind)
   ```

2. **Co-location**
   - Les composants spÃ©cifiques Ã  une page sont dans le mÃªme dossier
   - Les composants rÃ©utilisables sont dans `components/`

---

## Composants RÃ©utilisables

### Composants Landing Page

| Composant | Chemin | Description | Lignes |
|-----------|--------|-------------|--------|
| **Hero** | `components/landing/Hero.tsx` | Hero moderne avec animations Framer Motion | 185 |
| **HeroSection** | `components/landing/HeroSection.tsx` | Hero ancien (LEGACY - ne pas utiliser) | 64 |
| **FeaturesGrid** | `components/landing/FeaturesGrid.tsx` | Grille Bento avec skeletons animÃ©s | 433 |
| **AnimatedListNuply** | `components/landing/AnimatedListNuply.tsx` | Liste de matches animÃ©e | 131 |
| **AnimatedBeamNuply** | `components/landing/AnimatedBeamNuply.tsx` | Animation de faisceau (complexe) | 8899 |
| **HowItWorks** | `components/landing/HowItWorks.tsx` | Section "Comment Ã§a marche" | - |
| **CallToAction** | `components/landing/CallToAction.tsx` | CTA moderne avec RippleButton | - |
| **Pricing** | `components/landing/Pricing.tsx` | Section pricing avec toggles | - |
| **TrustLogos** | `components/landing/TrustLogos.tsx` | Logos partenaires | - |
| **SmoothScrollProvider** | `components/landing/SmoothScrollProvider.tsx` | Provider Lenis pour smooth scroll | - |

### Composants Animation

| Fonction | Fichier | Description |
|----------|---------|-------------|
| `FadeInOnScroll` | `components/landing/animations.tsx` | Apparition fade au scroll (margin: -100px) |
| `SlideInOnScroll` | `components/landing/animations.tsx` | Glissement depuis left/right/up/down |
| `StaggeredList` | `components/landing/animations.tsx` | Liste avec dÃ©lai Ã©chelonnÃ© (stagger) |
| `FadeInScaleOnScroll` | `components/landing/animations.tsx` | Apparition + scale + translation Y |

### Composants UI (shadcn/ui) - 68 Fichiers

**Navigation & Layout:**
- `navbar-menu.tsx` - Menu de navigation Aceternity UI
- `resizable-navbar.tsx` - Navbar responsive
- `navigation-menu.tsx` - Menu Radix UI
- `breadcrumb.tsx` - Fil d'Ariane
- `separator.tsx` - SÃ©parateur horizontal/vertical

**Formulaires:**
- `button.tsx` - Bouton avec variants (default, destructive, outline, ghost)
- `input.tsx` - Input texte standard
- `textarea.tsx` - Textarea avec auto-resize
- `select.tsx` / `select-radix.tsx` - Select dropdown
- `checkbox.tsx` - Checkbox Radix
- `switch.tsx` - Toggle switch
- `form.tsx` - React Hook Form wrapper
- `date-picker.tsx` - Date picker avec react-day-picker

**Feedback:**
- `toast.tsx` + `sonner.tsx` - Notifications toast
- `loading-spinner.tsx` - Spinner de chargement
- `skeleton.tsx` - Skeleton loader
- `progress.tsx` - Barre de progression
- `empty-state.tsx` - Ã‰tat vide

**Overlays:**
- `dialog.tsx` - Modal Radix
- `drawer.tsx` - Drawer mobile (Vaul)
- `dropdown-menu.tsx` - Menu dÃ©roulant
- `popover.tsx` - Popover Radix
- `hover-card.tsx` - Carte au hover
- `command.tsx` - Command palette (cmdk)

**Data Display:**
- `card.tsx` - Carte avec header/footer
- `modern-card.tsx` - Carte moderne
- `bento-grid.tsx` - Grille Bento (Apple style)
- `badge.tsx` - Badge avec variants
- `avatar.tsx` - Avatar circulaire
- `avatar-circles.tsx` - Cercles d'avatars superposÃ©s
- `chart.tsx` - Graphiques Recharts
- `marquee.tsx` - Carrousel automatique
- `animated-list.tsx` - Liste animÃ©e avec Framer Motion

**Animations & Effects:**
- `animated-beam.tsx` - Animation de faisceau
- `animated-counter.tsx` - Compteur animÃ©
- `spotlight.tsx` - Effet spotlight Aceternity
- `spotlight-preview.tsx` - Preview spotlight
- `flip-words.tsx` - Mots qui flippent
- `ripple-button.tsx` - Bouton avec effet ripple
- `pulsating-button.tsx` - Bouton pulsant
- `bottom-gradient.tsx` - Gradient en bas

**Calendrier:**
- `calendar.tsx` - Calendrier principal custom (6045 lignes)
- `calendar-shadcn.tsx` - Calendrier shadcn
- `calendar18.tsx` - Calendrier alternatif

**Autres:**
- `tabs.tsx` - Onglets Radix
- `accordion.tsx` - AccordÃ©on Radix
- `collapsible.tsx` - Section repliable
- `toggle.tsx` / `toggle-group.tsx` - Boutons toggle
- `scroll-area.tsx` - Zone de scroll custom
- `resizable.tsx` - Panneau redimensionnable
- `carousel.tsx` - Carrousel Embla
- `chat-input.tsx` - Input de chat avancÃ©
- `hero-video-dialog.tsx` - Dialog vidÃ©o pour hero
- `range-slider.tsx` - Slider de plage

---

## Variables & Styles Custom

### Palette de Couleurs (CSS Variables)

DÃ©finies dans `app/globals.css` (lignes 7-39):

```css
:root {
  /* Background & Foreground */
  --background: 220 20% 98%;              /* #F7F9FC (Gris trÃ¨s clair) */
  --foreground: 220 20% 10%;              /* #1A1F2E (Dark Navy) */

  /* Card */
  --card: 0 0% 100%;                      /* #FFFFFF (Blanc pur) */
  --card-foreground: 220 20% 10%;

  /* Popover */
  --popover: 0 0% 100%;
  --popover-foreground: 220 20% 10%;

  /* Primary (Violet Nuply) */
  --primary: 250 65% 55%;                 /* #823F91 */
  --primary-foreground: 0 0% 100%;        /* #FFFFFF */

  /* Secondary */
  --secondary: 220 15% 95%;               /* #F0F2F5 */
  --secondary-foreground: 250 50% 45%;    /* #6D3478 */

  /* Muted */
  --muted: 220 15% 94%;                   /* #EEEFF2 */
  --muted-foreground: 220 10% 50%;        /* #6B7280 */

  /* Accent (Rose) */
  --accent: 320 70% 55%;                  /* #E91E8C */
  --accent-foreground: 0 0% 100%;

  /* Destructive */
  --destructive: 0 75% 55%;               /* #E53E3E */
  --destructive-foreground: 0 0% 100%;

  /* Border & Input */
  --border: 220 15% 90%;                  /* #E5E7EB */
  --input: 220 15% 90%;

  /* Ring (focus outline) */
  --ring: 250 65% 55%;                    /* #823F91 */

  /* Border Radius */
  --radius: 0.875rem;                     /* 14px */

  /* Sidebar */
  --sidebar-background: 0 0% 100%;
  --sidebar-foreground: 220 10% 45%;
  --sidebar-primary: 250 65% 55%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 250 50% 97%;
  --sidebar-accent-foreground: 250 50% 35%;
  --sidebar-border: 220 15% 92%;
  --sidebar-ring: 250 65% 55%;

  /* Glass Effect */
  --glass-bg: 0 0% 100% / 0.7;
  --glass-border: 0 0% 100% / 0.2;

  /* Shadow */
  --shadow-color: 220 30% 15%;
}
```

### Classes Utility Custom (Tailwind)

DÃ©finies dans `app/globals.css` (lignes 55-139):

```css
/* Gradients */
.gradient-primary     /* Violet dÃ©gradÃ© (250Â° â†’ 280Â°) */
.gradient-purple      /* Violet-pourpre dÃ©gradÃ© */
.gradient-pink        /* Rose dÃ©gradÃ© */
.gradient-blue        /* Bleu dÃ©gradÃ© */
.gradient-cyan        /* Cyan dÃ©gradÃ© */
.gradient-violet      /* Violet intense */
.gradient-rose        /* Rose intense */
.gradient-subtle      /* DÃ©gradÃ© subtil background */

/* Shadows */
.shadow-soft          /* Ombre douce multi-couches */
.shadow-elevated      /* Ombre Ã©levÃ©e (cards) */
.shadow-float         /* Ombre flottante (hover) */
.shadow-glow          /* Halo violet lumineux */

/* Glass Effect */
.glass                /* Glassmorphism (blur + saturation) */
.glass-border         /* Bordure glass translucide */

/* Transitions */
.transition-smooth    /* cubic-bezier(0.4, 0, 0.2, 1) 300ms */
.transition-bounce    /* cubic-bezier(0.34, 1.56, 0.64, 1) 400ms */

/* Hover Effects */
.hover-lift           /* Lift -2px au hover + shadow */
.hover-gradient-purple /* Gradient violet au hover */

/* Text Effects */
.text-gradient        /* Texte avec gradient violet-rose */

/* Patterns */
.pattern-dots         /* Motif de points (background) */
```

### Polices

```css
/* Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

body {
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  font-feature-settings: "cv02", "cv03", "cv04", "cv11"; /* Features OpenType */
}
```

### Breakpoints Tailwind

```
sm:  640px   (mobile)
md:  768px   (tablet)
lg:  1024px  (desktop)
xl:  1280px  (large desktop)
2xl: 1536px  (extra large)
```

### Animations Custom

DÃ©finies dans `app/globals.css` (lignes 497-509):

```css
@keyframes rippling {
  0% { opacity: 1; }
  100% {
    transform: scale(2);
    opacity: 0;
  }
}

:root {
  --animate-rippling: rippling var(--duration) ease-out;
}
```

---

## Fichiers Critiques

### âš ï¸ NE JAMAIS MODIFIER SANS VALIDATION

| Fichier | Raison | Impact |
|---------|--------|--------|
| `app/globals.css` | Design system complet (509 lignes) | **CRITIQUE** - Affecte tout le design |
| `middleware.ts` | Gestion auth + redirections | **CRITIQUE** - SÃ©curitÃ© |
| `lib/supabase/server.ts` | Client Supabase server | **CRITIQUE** - Database access |
| `types/database.types.ts` | Types Supabase auto-gÃ©nÃ©rÃ©s | **CRITIQUE** - Ne pas Ã©diter manuellement |
| `next.config.ts` | Config Next.js + headers sÃ©curitÃ© | **CRITIQUE** - Performance + sÃ©curitÃ© |
| `components.json` | Config shadcn/ui | **IMPORTANT** - Affecte tous les composants UI |
| `tsconfig.json` | Config TypeScript strict | **IMPORTANT** - Type checking |

### âš™ï¸ MODIFIER AVEC PRÃ‰CAUTION

| Fichier | Raison | Impact |
|---------|--------|--------|
| `app/layout.tsx` | Root layout avec Navbar | **IMPORTANT** - Structure globale |
| `components/NuplyNavbarMenu.tsx` | Navbar principale (16204 lignes) | **IMPORTANT** - Navigation |
| `lib/utils.ts` | Utility `cn()` utilisÃ©e partout | **IMPORTANT** - Classes Tailwind |
| `components/landing/Hero.tsx` | Hero principal actif | **MODÃ‰RÃ‰** - Landing page |
| `components/landing/FeaturesGrid.tsx` | Features avec animations | **MODÃ‰RÃ‰** - Landing page |

### ğŸ—‘ï¸ FICHIERS LEGACY (Ã€ NE PAS UTILISER)

| Fichier | Raison | Action RecommandÃ©e |
|---------|--------|---------------------|
| `components/landing/HeroSection.tsx` | Ancien hero (remplacÃ© par Hero.tsx) | âš ï¸ Ã€ supprimer ou archiver |

### ğŸ“„ FICHIERS DE DOCUMENTATION (Ã€ JOUR)

| Fichier | Description |
|---------|-------------|
| `README.md` | Documentation principale du projet |
| `components/landing/README.md` | Documentation des composants landing |
| `AGENTS.MD` | Ce fichier (documentation pour agents IA) |

### ğŸ” FICHIERS SENSIBLES (NE PAS COMMITER)

```gitignore
.env.local                  # Variables d'environnement locales
.env                        # Variables d'environnement
.env.production            # Variables production
.idea/                     # Config IDE
node_modules/              # Dependencies
.next/                     # Build Next.js
```

---

## RÃ¨gles pour les Agents

### 1. AVANT DE MODIFIER DU CODE

âœ… **TOUJOURS:**
- Lire le fichier complet avant toute modification
- VÃ©rifier les imports et dÃ©pendances
- Respecter les conventions de code existantes
- Utiliser `'use client'` si le composant utilise des hooks React
- Utiliser la utility `cn()` pour combiner les classes Tailwind
- Tester localement avec `npm run dev`

âŒ **NE JAMAIS:**
- Modifier `globals.css` sans validation explicite
- Toucher aux types auto-gÃ©nÃ©rÃ©s (`database.types.ts`)
- CrÃ©er de nouveaux composants UI sans vÃ©rifier s'ils existent dÃ©jÃ  dans `components/ui/`
- Utiliser `HeroSection.tsx` (c'est le fichier LEGACY)
- Casser les conventions de naming
- DÃ©sactiver le strict mode TypeScript

### 2. CRÃ‰ATION DE NOUVEAUX COMPOSANTS

**Checklist:**
1. VÃ©rifier qu'un composant similaire n'existe pas dÃ©jÃ  dans `components/ui/` (68 composants disponibles)
2. Utiliser TypeScript avec types explicites
3. Ajouter `'use client'` si nÃ©cessaire (useState, useEffect, onClick, etc.)
4. Utiliser les imports absolus avec `@/`
5. Respecter le naming: PascalCase pour les composants
6. Utiliser `cn()` pour les classes Tailwind conditionnelles
7. Utiliser les animations rÃ©utilisables de `components/landing/animations.tsx`
8. Documenter les props avec TypeScript

**Template:**
```typescript
'use client'  // Si nÃ©cessaire

import { cn } from '@/lib/utils'
import { motion } from 'framer-motion'

interface MyComponentProps {
  title: string
  subtitle?: string
  className?: string
}

export default function MyComponent({
  title,
  subtitle,
  className
}: MyComponentProps) {
  return (
    <div className={cn(
      "base-classes",
      className
    )}>
      <h2>{title}</h2>
      {subtitle && <p>{subtitle}</p>}
    </div>
  )
}
```

### 3. OPTIMISATION DE LA LANDING PAGE

**PrioritÃ©s:**
1. **Performance**
   - Utiliser `next/image` pour les images
   - Lazy load les composants lourds
   - Minimiser les animations complexes (Ã©viter AnimatedBeamNuply si possible)

2. **SEO**
   - Utiliser les balises sÃ©mantiques (section, article, header)
   - Ajouter des attributs alt sur les images
   - Utiliser des titres H1 â†’ H6 hiÃ©rarchiques

3. **AccessibilitÃ©**
   - Ajouter `aria-label` sur les Ã©lÃ©ments interactifs
   - Respecter les contrastes de couleurs
   - Tester la navigation au clavier

4. **Responsive**
   - Mobile-first approach
   - Tester sur mobile (< 768px), tablet (768-1024px), desktop (> 1024px)

### 4. GESTION DES ANIMATIONS FRAMER MOTION

**Bonnes Pratiques:**
1. Utiliser les composants rÃ©utilisables de `components/landing/animations.tsx`:
   - `FadeInOnScroll` pour les apparitions simples
   - `SlideInOnScroll` pour les glissements
   - `StaggeredList` pour les listes
   - `FadeInScaleOnScroll` pour les effets de scale

2. Pattern Variants pour les animations complexes:
   ```typescript
   const containerVariants = {
     hidden: { opacity: 0 },
     visible: {
       opacity: 1,
       transition: { staggerChildren: 0.1 }
     }
   }
   ```

3. Utiliser `useInView` pour dÃ©clencher au scroll:
   ```typescript
   const ref = useRef(null)
   const isInView = useInView(ref, { once: true, margin: '-100px' })
   ```

### 5. GESTION DU STYLE TAILWIND

**Pattern RecommandÃ©:**
```typescript
import { cn } from '@/lib/utils'

<div className={cn(
  "px-4 py-2",                      // Base classes
  "bg-white dark:bg-gray-900",      // Theme classes
  "rounded-lg shadow-soft",         // Custom classes
  isActive && "border-primary",     // Conditional
  className                         // Props override (toujours en dernier)
)} />
```

**Classes Custom Disponibles:**
- Gradients: `.gradient-primary`, `.gradient-purple`, `.gradient-pink`
- Shadows: `.shadow-soft`, `.shadow-elevated`, `.shadow-float`
- Effects: `.glass`, `.hover-lift`, `.text-gradient`

### 6. SUPABASE & AUTHENTIFICATION

**Utiliser le Bon Client:**
```typescript
// Client-side (dans 'use client')
import { createClient } from '@/lib/supabase/client'

// Server Component
import { createClient } from '@/lib/supabase/server'

// API Route / Server Action
import { createClient } from '@/lib/supabase/admin'
```

**ProtÃ©ger les Routes:**
- Le middleware dans `middleware.ts` gÃ¨re l'auth automatiquement
- Ne pas bypasser le middleware

### 7. VALIDATION & FORMULAIRES

**Stack RecommandÃ©e:**
```typescript
import { useForm } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import { z } from 'zod'

const schema = z.object({
  email: z.string().email(),
  name: z.string().min(2)
})

const form = useForm({
  resolver: zodResolver(schema)
})
```

### 8. TESTER AVANT DE COMMIT

**Checklist PrÃ©-Commit:**
- [ ] `npm run dev` fonctionne sans erreur
- [ ] `npm run build` compile sans warning
- [ ] `npm run lint` passe sans erreur
- [ ] Tester sur mobile, tablet, desktop
- [ ] VÃ©rifier que les animations sont fluides
- [ ] Tester la navigation au clavier

### 9. MESSAGES DE COMMIT

**Format RecommandÃ©:**
```
type(scope): description

feat(landing): add new Hero section with animations
fix(auth): correct login redirect issue
refactor(ui): optimize Button component
docs(readme): update installation steps
```

**Types:**
- `feat`: Nouvelle fonctionnalitÃ©
- `fix`: Correction de bug
- `refactor`: Refactoring sans changement de comportement
- `style`: Changements de style/formatting
- `docs`: Documentation
- `test`: Ajout/modification de tests
- `chore`: Maintenance (deps, config, etc.)

### 10. RESSOURCES UTILES

**Documentation:**
- Next.js 16: https://nextjs.org/docs
- React 19: https://react.dev
- Tailwind CSS 4: https://tailwindcss.com/docs
- Framer Motion: https://www.framer.com/motion/
- shadcn/ui: https://ui.shadcn.com
- Supabase: https://supabase.com/docs

**Composants UI:**
- 68 composants disponibles dans `components/ui/`
- Toujours vÃ©rifier avant d'en crÃ©er un nouveau
- Utiliser `npx shadcn@latest add [component]` pour en ajouter

**Animations:**
- 4 composants rÃ©utilisables dans `components/landing/animations.tsx`
- PrÃ©fÃ©rer ces composants aux animations custom

---

## ğŸ¯ Objectifs du Projet

### Vision
CrÃ©er la meilleure plateforme de matching multiculturel pour mariages en France, avec:
- Interface moderne et Ã©purÃ©e (inspiration Apple, Linear, Stripe)
- Animations fluides et subtiles (Framer Motion)
- Performance optimale (Next.js 16 + React 19)
- AccessibilitÃ© AAA
- Mobile-first responsive design

### Standards de QualitÃ©
1. **Design**: Ã‰lÃ©gant, professionnel, moderne (violet #823F91)
2. **Performance**: Lighthouse score > 90
3. **AccessibilitÃ©**: WCAG AAA
4. **SEO**: OptimisÃ© pour Google
5. **Code**: TypeScript strict, ESLint, tests Jest

### Prochaines Ã‰tapes
1. Optimiser la landing page (performance + conversions)
2. AmÃ©liorer les animations (fluiditÃ©)
3. Ajouter des tests unitaires (Jest + React Testing Library)
4. Optimiser le SEO (meta tags, structured data)
5. AmÃ©liorer l'accessibilitÃ© (ARIA, keyboard nav)

---

**Version:** 1.0.0
**DerniÃ¨re mise Ã  jour:** 29 dÃ©cembre 2025
**Auteur:** Agent IA Claude (Analyse automatique du codebase)

---

## ğŸ“ Support

Pour toute question ou clarification sur ce document:
1. Lire d'abord `README.md` et `components/landing/README.md`
2. Consulter la documentation officielle des technologies utilisÃ©es
3. VÃ©rifier les fichiers existants avant de crÃ©er de nouveaux composants

**Bon dÃ©veloppement sur Nuply ! ğŸ‰**
